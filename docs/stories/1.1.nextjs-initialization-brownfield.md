# Story 1.1: Next.js Initialization - Brownfield Addition

## Status

Approved

## Story

**As a** developer,
**I want** to initialize a Next.js project in the root directory with TypeScript and `/src` folder structure while preserving existing project documentation,
**so that** the frontend codebase foundation is established without losing any existing project artifacts.

## Story Context

**Existing System Integration:**

- Integrates with: Existing documentation structure (docs/, .bmad-core/)
- Technology: Next.js 14+, TypeScript, React
- Follows pattern: Standard Next.js project initialization with `/src` directory
- Touch points: Root directory initialization, file system reorganization

## Acceptance Criteria

**Functional Requirements:**

1. Next.js application is successfully initialized in root directory with TypeScript configuration
2. All existing project files are temporarily moved to parent directory during initialization
3. All existing files are restored to original locations after Next.js setup is complete
4. `/src` directory structure is established for organized code placement

**Integration Requirements:** 5. Existing documentation structure (docs/) continues to work unchanged 6. Existing `.bmad-core/` configuration maintains current functionality 7. Integration with existing project maintains current file organization

**Quality Requirements:** 8. Next.js development server starts successfully with `npm run dev` 9. TypeScript configuration is properly set up and functional 10. All existing project files are verified to be intact after the process

## Tasks / Subtasks

- [ ] Pre-initialization file backup (AC: 2)
  - [ ] Create temporary backup directory in parent folder
  - [ ] Move all existing files (.bmad-core/, docs/, .roomodes) to backup location
  - [ ] Verify all files are safely moved
- [ ] Next.js project initialization (AC: 1, 4)
  - [ ] Run `npx create-next-app@latest` with TypeScript and `/src` directory options
  - [ ] Verify Next.js project structure is created correctly
  - [ ] Confirm TypeScript configuration is properly set up
- [ ] File restoration and integration (AC: 3, 5, 6, 7)
  - [ ] Move all backed-up files back to root directory
  - [ ] Verify docs/ directory structure is intact
  - [ ] Verify .bmad-core/ functionality is preserved
  - [ ] Confirm .roomodes file is properly restored
- [ ] Verification and testing (AC: 8, 9, 10)
  - [ ] Start Next.js development server with `npm run dev`
  - [ ] Verify TypeScript compilation works correctly
  - [ ] Confirm all existing project files are accessible and functional

## Dev Notes

**Relevant Source Tree Information:**

- Current project has documentation in `docs/` with PRD, architecture, and UI/UX specs
- `.bmad-core/` contains agent configurations and task templates
- `.roomodes` file contains mode configuration
- Project is for RaceDay v1.5 MVP - a real-time horse racing data visualization tool

**Technical Requirements:**

- Next.js 15+ (latest version)
- TypeScript configuration with strict mode
- `/src` directory structure for organized code placement
- Integration with future Appwrite Cloud backend
- Must preserve existing documentation ecosystem

**File Movement Strategy:**

1. Create `../raceday-backup/` directory
2. Move all current files to backup location
3. Initialize Next.js in clean root directory
4. Move files back, ensuring no conflicts with Next.js structure

**Integration Notes:**

- Existing docs/ structure contains critical PRD and architecture information
- .bmad-core/ contains essential agent and task configurations
- Future stories will depend on this foundation being properly established

### Testing

**Testing Standards:**

- Verify Next.js server starts without errors
- Confirm TypeScript compilation passes
- Validate all existing files are restored and accessible
- Test that documentation links and references remain functional
- Ensure `.bmad-core/` agent configurations load properly

## Change Log

| Date       | Version | Description                                                                           | Author     |
| ---------- | ------- | ------------------------------------------------------------------------------------- | ---------- |
| 2025-07-13 | 1.0     | Initial story creation for Next.js initialization with file preservation requirements | Sarah (PO) |

## Dev Agent Record

_This section will be populated by the development agent during implementation_

### Agent Model Used

_To be populated during implementation_

### Debug Log References

_To be populated during implementation_

### Completion Notes List

_To be populated during implementation_

### File List

_To be populated during implementation_

## QA Results

_Results from QA Agent review will be populated here after implementation_
